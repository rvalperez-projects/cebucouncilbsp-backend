<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cebucouncilbsp.backend.repository.AreaRepository">

  <select id="findAllAreas" parameterType="map" resultType="com.cebucouncilbsp.backend.entity.AreaEntity">
    SELECT
      AREA_CODE,
      DISTRICT_NAME,
      CHAIRMAN_NAME,
      CHAIRMAN_CONTACT_NO,
      COMMISSIONER_NAME,
      COMMISSIONER_CONTACT_NO,
      REMARKS,
      CREATED_BY,
      CREATED_DATETIME,
      UPDATED_BY,
      UPDATED_DATETIME
    FROM
      M_AREA
  </select>

  <select id="findByArea" parameterType="map" resultType="com.cebucouncilbsp.backend.entity.AreaEntity">
    SELECT
      AREA_CODE,
      DISTRICT_NAME,
      CHAIRMAN_NAME,
      CHAIRMAN_CONTACT_NO,
      COMMISSIONER_NAME,
      COMMISSIONER_CONTACT_NO,
      REMARKS,
      CREATED_BY,
      CREATED_DATETIME,
      UPDATED_BY,
      UPDATED_DATETIME
    FROM
      M_AREA
    WHERE
      AREA_CODE = #{area,jdbcType=VARCHAR}
      AND VALID_FLAG = true
  </select>

  <select id="findByDistrict" parameterType="map" resultType="com.cebucouncilbsp.backend.entity.AreaEntity">
    SELECT
      AREA_CODE,
      DISTRICT_NAME,
      CHAIRMAN_NAME,
      CHAIRMAN_CONTACT_NO,
      COMMISSIONER_NAME,
      COMMISSIONER_CONTACT_NO,
      REMARKS,
      VALID_FLAG,
      CREATED_BY,
      CREATED_DATETIME,
      UPDATED_BY,
      UPDATED_DATETIME
    FROM
      M_AREA
    WHERE
      DISTRICT_NAME = #{district,jdbcType=VARCHAR}
      AND VALID_FLAG = true
  </select>

  <select id="findByAreaAndDistrict" parameterType="map" resultType="com.cebucouncilbsp.backend.entity.AreaEntity">
    SELECT
      AREA_CODE,
      DISTRICT_NAME,
      CHAIRMAN_NAME,
      CHAIRMAN_CONTACT_NO,
      COMMISSIONER_NAME,
      COMMISSIONER_CONTACT_NO,
      REMARKS,
      VALID_FLAG,
      CREATED_BY,
      CREATED_DATETIME,
      UPDATED_BY,
      UPDATED_DATETIME
    FROM
      M_AREA
    WHERE
      AREA_CODE = #{area,jdbcType=VARCHAR}
      AND DISTRICT_NAME = #{district,jdbcType=VARCHAR}
      AND VALID_FLAG = true
  </select>

  <insert id="insertArea" parameterType="com.cebucouncilbsp.backend.entity.AreaEntity">
    INSERT INTO
      M_AREA
    <trim prefix="(" suffix=")" suffixOverrides=",">
      AREA_CODE,
      DISTRICT_NAME,
      CHAIRMAN_NAME,
      CHAIRMAN_CONTACT_NO,
      COMMISSIONER_NAME,
      COMMISSIONER_CONTACT_NO,
      REMARKS,
      VALID_FLAG,
      CREATED_BY,
      CREATED_DATETIME,
      UPDATED_BY,
      UPDATED_DATETIME
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      #{area,jdbcType=VARCHAR},
      #{district,jdbcType=VARCHAR},
      #{chairmanName,jdbcType=VARCHAR},
      #{chairmanContactNo,jdbcType=VARCHAR},
      #{commissionerName,jdbcType=VARCHAR},
      #{commissionerContactNo,jdbcType=VARCHAR},
      #{remarks,jdbcType=VARCHAR},
      #{validFlag,jdbcType=BOOLEAN},
      #{createdBy,jdbcType=VARCHAR},
      #{updatedBy,jdbcType=VARCHAR},
      #{creationDateTime,jdbcType=TIMESTAMP},
      #{updatedDateTime,jdbcType=TIMESTAMP}
    </trim>
  </insert>

  <update id="updateAreaByAreaAndDistrict" parameterType="com.cebucouncilbsp.backend.entity.AreaEntity">
    UPDATE
      M_AREA
    <set>
      CHAIRMAN_NAME = #{chairmanName,jdbcType=VARCHAR},
      CHAIRMAN_CONTACT_NO = #{chairmanContactNo,jdbcType=VARCHAR},
      COMMISSIONER_NAME = #{commissionerName,jdbcType=VARCHAR},
      COMMISSIONER_CONTACT_NO = #{commissionerContactNo,jdbcType=VARCHAR},
      REMARKS = #{remarks,jdbcType=VARCHAR},
      VALID_FLAG = #{validFlag,jdbcType=BOOLEAN},
      UPDATED_BY = #{updatedBy,jdbcType=VARCHAR},
      UPDATED_DATETIME = #{updatedDateTime,jdbcType=TIMESTAMP}
    </set>
    WHERE
      AREA_CODE = #{userId,jdbcType=INTEGER}
      AND DISTRICT_NAME = #{district,jdbcType=VARCHAR},
  </update>

</mapper>
